* sontex Alfa stage backlog
** собрать реальную программу
*** заменить значения мзс на актуальные
*** хелп в экселе с описание работы
*** запустить програму и сформировать
учитывая правила
** в теплоэнерго отчёте сумарный тотол не округляется
*** описание
**** в репорете
нет округления сумы
*** туду
**** сделать переменую глобальную точности округления
отчёта
**** открыть генератор репорта
**** сделать это через переменную
**** проверить если посыпались тесты
** sh запуска тестов
*** sh
**** cmd
@echo off
:start
python -m unittest
pause
cls
goto :start
**** new sh
cd /home/buyn/Dev/Python/Sontex/Src/
source sontex-env/bin/activate
:results output silent
#+begin_src elisp  :dir /home/buyn/Dev/Python/Sontex/Src/
(buyn-shell-start "konsole -e /bin/bash --rcfile <(source sontex-env/bin/activate)")
(evil-previous-line)
(org-cycle)
(delete-other-windows)
#+end_src

(buyn-shell-start "konsole -e /bin/bash --rcfile <(source sontex-env/bin/activate)")
*** run tests
python -m unittest
** переписать правило
*** так чтоб он заполнял любое еоличество ячеек
тоесть разобрав
*** правило должно округлять до значения из
глобола для отчётов
** Сделать интеграционый тест
тоесть запускается приложение с задаными параметрами
и навыходе получается тест аут пут
в ктором проверяются заданые поля
впринипе должно быть не сложно
тест может
запускать калькулятор с параметрами как будто они из веба
после чего проверять создание аутпут файлов
и изменение их значений
на ожидаемые
и заускать заскипленые тесты
как отдельный кмд на паузе
** переписать функцияю сохраниея экселя
*** так чтоб она получала лист датафремов
и помешала их в екселль в полученном порядке
*** возможно они отправляются парами
дата фрем и име листа под которым он будет сохранен
которе может быть именем из глобальных значений
** Почистить убрать переменые 
gv_osbb_report = "ОСББ"
# ** report names:
[[file:d:/Development/version-control/GitHub/Zmei/Sontex/Src/global_values.py::gv_sheet_report = "report"]]
** проверить по пункто - сделать екзешни
*** разобрать в том что сейчас в папке билд
*** сдлеть виртуал 
*** установить всё что нужно 
*** сделать фаил запуска из виртуала 
*** попробывать сгенерить экзешник на прямую  
*** если не получилось начинаем копать
*** фаил билда должен вручную копировать
фаил запуска
папку веба
и создовать папку с дата файлов
*** кмд орг
написать отдельный кмд для делания 
екзешника
*** сгенерить кмд 
*** запустить протестить 
*** сделать раздел делания екзкшника 
вроде там всё готово итак
просто запустить фаил
автоматизировать процес
сделать авто копирование исходников
и папок
*** сделать фаил апдейта 
копирует все пйтоны
веб
** вынести переменую лога в глобалс
*** легко испрвить вынеся код в отделный фаил
**** переменая
**** лог пул
**** лог принт
*** поскольку сейчас мы не можем запускать логи из других модов
*** посмотреть может можно исправить меинвин мод
чтоб возомжен был импорт
** Подготовить следуший спринт
*** отметить как Некст этот
*** убрать законченые туду вниз
*** Создать новый спринт раздел в org
*** добавить копию канбан вновый орг
скопиями делами на новй спринт и закончить спринт
[[*tmp bord][tmp bord]]
*** открыть в беклоге туду новый спринт
[[*Новый спринт][Новый спринт]]
*** добавить в гит завершаюший комит
*** замержить с мейном 
**** commands 
git checkout main
git merge --no-ff rlv_beta
st
gh 
st

**** orig
che
git merge --no-ff f_encoder_to_old
# git branch -d f_encoder_to_old
st
gh 
st
*** создать новый бранч 
git checkout -b exe_beta
git push -u --set-upstream origin exe_beta
^сделать возможным пушь


*** запонить канбан списком дел из беклога
*** отметить как Туду этот
** Переписать в один орг фаил убрав лишнее
* DONE backlog sprint-A-2024-09-10
CLOSED: [2024-09-12 Thu 15:34]
** DONE Перереманая отключения владки рулзов в отчёте
CLOSED: [2024-09-12 Thu 03:56]
*** сделать по аналогии с переменоной репорта
** DONE Перевеод строки в логе
CLOSED: [2024-09-12 Thu 15:34]
Сергей Радригес Змей, [10.09.2024 15:24]
Ласкаво просимо! Почнемо програму.

Сергей Радригес Змей, [10.09.2024 15:25]
Замінити на горі Sontex на Програма розрахунку

Сергей Радригес Змей, [10.09.2024 15:25]
Показники пристроїв та файл звіту з великої літери.

Сергей Радригес Змей, [10.09.2024 15:26]
Всі кнопки з великої літери.
** DONE Замінити на горі Sontex на Програма розрахунку
CLOSED: [2024-09-12 Thu 15:34]
Замінити на горі Sontex на Програма розрахунку
** DONE округлять знчения на основе переменной
CLOSED: [2024-09-12 Thu 15:27]
сейчас они похоже округляются просто хардкодно до 2х значений после запятой
** DONE большие буквы для всех кнопок
CLOSED: [2024-09-12 Thu 15:34]
** DONE убедится что правило округляет
CLOSED: [2024-09-11 Wed 15:17]
округляет на основе значения глобола
*** DONE Проверить наличие переменой глобальной
CLOSED: [2024-09-11 Wed 12:13]
*** DONE посмотреть как округляется сумарное
CLOSED: [2024-09-11 Wed 14:39]
*** DONE сделать по аналогии правило
CLOSED: [2024-09-11 Wed 14:39]
*** DONE найти понять как заполняется расчёт
CLOSED: [2024-09-11 Wed 14:39]
*** DONE переделать для расчёта
CLOSED: [2024-09-11 Wed 14:39]
*** Тест output

** CANCELED ruls симбол
CLOSED: [2024-09-12 Thu 15:34]
*** тажа ошибка в файле Теста
*** Добавить асерт ввыбраном поле
*** иправить ошибку
** DONE виртуальные счёчики
CLOSED: [2024-09-12 Thu 03:20]
отсутсвуют в полях созданых по правилам
*** Добавить асерт ввыбраном поле
*** иправить ошибку
** DONE Совместить цифры
CLOSED: [2024-09-11 Wed 11:40]
*** DONE Проверить цифры в файлах сергия
CLOSED: [2024-09-10 Tue 23:27]
проверить что в "импуте" теже цифры что в дебаге
*** DONE сделать копию папки програмы
CLOSED: [2024-09-11 Wed 00:04]
для запуска чтоб были правельные цифры
*** DONE сделать инпут фаил
CLOSED: [2024-09-11 Wed 01:21]
*** DONE сгенерить оутпут фаил
CLOSED: [2024-09-11 Wed 09:49]
*** DONE сравнить результаты
CLOSED: [2024-09-11 Wed 09:49]
*** подченить сводимость цифр
*** сделать инпут фаил с тойже последовательностью
* DONE backlog sprint-A-2024-09-06
CLOSED: [2024-09-10 Tue 18:17]
** DONE создание и оформление стадии альфа
CLOSED: [2024-09-07 Sat 20:46]
** DONE посмотреть выполняются ли тесты
CLOSED: [2024-09-10 Tue 18:13]
*** DONE открыть кмд фаил рантестов
CLOSED: [2024-09-09 Mon 21:09]
*** DONE выпонить из него команду
CLOSED: [2024-09-09 Mon 21:09]
*** DONE устновить зависимости
CLOSED: [2024-09-09 Mon 21:09]
*** DONE добавить зависисмотси в орг сонтекс
CLOSED: [2024-09-09 Mon 21:09]
*** сделать его шелл аналог
*** DONE err
CLOSED: [2024-09-09 Mon 18:58]
ImportError: Missing optional dependency 'openpyxl'.  Use pip or conda to install openpyxl.
*** sh
**** cmd
@echo off
:start
python -m unittest
pause
cls
goto :start
**** new sh
cd /home/buyn/Dev/Python/Sontex/Src/
source sontex-env/bin/activate
:results output silent
#+begin_src elisp  :dir /home/buyn/Dev/Python/Sontex/Src/
(buyn-shell-start "konsole -e /bin/bash --rcfile <(source sontex-env/bin/activate)")
(evil-previous-line)
(org-cycle)
(delete-other-windows)
#+end_src

(buyn-shell-start "konsole -e /bin/bash --rcfile <(source sontex-env/bin/activate)")
*** DONE jedi
CLOSED: [2024-09-10 Tue 01:58]
jedi:install-server
*** run tests
python -m unittest
*** CANCELED test-suffix
CLOSED: [2024-09-10 Tue 01:58]
projectile--test-name-for-impl-name: Cannot determine a test file name, one of "test-suffix" or "test-prefix" must be set for project type ‘generic’
projectile python test name "test-prefix" 

(defun my-test-prefix (project-type) "test_")


(defun projectile-test-suffix (project-type)
  "Find default test files suffix based on PROJECT-TYPE."
  (cond
   ((member project-type '(rails-rspec ruby-rspec)) "_spec")
   ((member project-type '(rails-test ruby-test lein-test go)) "_test")
   ((member project-type '(scons)) "test")
   ((member project-type '(maven symfony)) "Test")
   ((member project-type '(gradle grails)) "Spec")))

	 
(projectile-register-project-type 'npm '("package.json")
                                  :project-file "package.json"
				  :compile "npm install"
				  :test "npm test"
				  :run "npm start"
				  :test-suffix ".spec")

What this does is:

1 add your own type of project, in this case npm package.

2 add a list of files and/or folders in a root of the project that helps
 to identify the type, in this case it is only package.json. This can
 also be a function which takes a project root as argument and
 verifies whether that directory has the correct project structure for
 the type.

3 add project-file, which is typically the primary project configuration
 file. In this case that’s package.json. The value can contain
 wildcards and/or be a list containing multiple project files to look
 for.

4 add compile-command, in this case it is npm install.

5 add test-command, in this case it is npm test.

6 add run-command, in this case it is npm start.

7 add test files suffix for toggling between implementation/test
 files, in this case it is .spec, so the implementation/test file pair
 could be service.js/service.spec.js for example.

https://docs.projectile.mx/projectile/projects.html

.projectile test-prefix python


(projectile-register-project-type 'my-python '("main.py")
                                  :project-file "main.py"
                                  :compile "python -m "
                                  :test "python test"
                                  :test-prefix "test_"
                                  :test-suffix"_test")

																	
(projectile-register-project-type
					'npm '("package.json")
					:project-file "package.json"
				  :compile "npm install"
				  :test "npm test"
				  :run "npm start"
				  :test-suffix ".spec")
*** error 
..[2]
/home/buyn/Dev/Python/Sontex/Src/rules.py:35: DeprecationWarning: Conversion of an array with ndim > 0 to a scalar is deprecated, and will error in future. Ensure you extract a single element from your array before performing this operation. (Deprecated NumPy 1.25.)
  target_index = int(tmp_int)
** запустить тестовый вариант
*** на основе файлов из тестов
определить на чём он генереит тесты
*** и выполнить тоже самое из меню
** записать инструкцию по названиям файлов
*** записать получившийся результат словами в орг
** сделать инструкцию
чтоб было понятно как запускать если потом понадобится
либо сделать инструкцию для клиента через чат жпт
** просмотреть файлы Сергея
*** установить опен офис
*** открыть файлы
*** понять как там много работы
** Запустить с файлом Сергея
*** отредоктировать файлы для репорта
*** запустить
*** профит
** изменить текст лога
на что на украинском
* SRC files
** main
*** main.py
#+begin_src emacs-lisp :results output silent
(find-file-other-frame "/home/buyn/Dev/Python/Sontex/Src/main.py")
#+end_src

#+begin_src emacs-lisp :results output silent
(find-file-other-frame "D:/Development/version-control/GitHub/Zmei/Sontex/Src/main.py")
#+end_src
*** test_main.py
#+begin_src emacs-lisp :results output silent
(find-file-other-frame "D:/Development/version-control/GitHub/Zmei/Sontex/Src/test_main.py")
#+end_src
** appart_values
*** appart_values.py
#+begin_src emacs-lisp :results output silent
(find-file-other-frame "D:/Development/version-control/GitHub/Zmei/Sontex/Src/appart_values.py")
#+end_src
*** test_appart_values.py
#+begin_src emacs-lisp :results output silent
(find-file-other-frame "D:/Development/version-control/GitHub/Zmei/Sontex/Src/test_appart_values.py")
#+end_src
** counter_values
*** counter_values.py
#+begin_src emacs-lisp :results output silent
(find-file-other-frame "D:/Development/version-control/GitHub/Zmei/Sontex/Src/counter_values.py")
#+end_src
*** test_counter_values.py
#+begin_src emacs-lisp :results output silent
(find-file-other-frame "D:/Development/version-control/GitHub/Zmei/Sontex/Src/test_counter_values.py")
#+end_src
** rules
*** rules.py
#+begin_src emacs-lisp :results output silent
(find-file-other-frame "/home/buyn/Dev/Python/Sontex/Src/rules.py")
#+end_src
*** test_rules.py
#+begin_src emacs-lisp :results output silent
(find-file-other-frame "/home/buyn/Dev/Python/Sontex/Src/test_rules.py")
#+end_src
** global_values.py
#+begin_src emacs-lisp :results output silent
(find-file-other-frame "D:/Development/version-control/GitHub/Zmei/Sontex/Src/global_values.py")
#+end_src
** winmain
*** winmain.py
#+begin_src emacs-lisp :results output silent
(find-file-other-frame "D:/Development/version-control/GitHub/Zmei/Sontex/Src/winmain.py")
#+end_src
*** test_winmain.py
#+begin_src emacs-lisp :results output silent
(find-file-other-frame "D:/Development/version-control/GitHub/Zmei/Sontex/Src/test_winmain.py")
#+end_src
** .projectile
#+begin_src emacs-lisp :results output silent
(find-file-other-frame "D:/Development/version-control/GitHub/Zmei/Sontex/Src/.projectile")
#+end_src
** sandbox
*** sandbox.org
#+begin_src emacs-lisp :results output silent
(find-file-other-frame "D:/Development/version-control/GitHub/Zmei/Sontex/Src/sandbox.org")
#+end_src
*** sandbox.py
#+begin_src emacs-lisp :results output silent
(find-file-other-frame "D:/Development/version-control/GitHub/Zmei/Sontex/Src/sandbox.py")
#+end_src
** Eel files
*** index.html
#+begin_src emacs-lisp :results output silent
(find-file-other-frame "D:/Development/version-control/GitHub/Zmei/Sontex/Src/web/index.html")
#+end_src
*** script.js
#+begin_src emacs-lisp :results output silent
(find-file-other-frame "D:/Development/version-control/GitHub/Zmei/Sontex/Src/web/script.js")
#+end_src
*** style.css : 
#+begin_src emacs-lisp :results output silent
(find-file-other-frame "D:/Development/version-control/GitHub/Zmei/Sontex/Src/web/style.css")
#+end_src
** arhiv
** org translate 
#+begin_src emacs-lisp :results output silent
(find-file-other-frame "D:/Development/version-control/GitHub/Zmei/Sontex/Src/translate.org")
#+end_src
* data files
** build path
(ranger "/home/buyn/Dev/Python/Sontex/raw-files/")
/home/buyn/Dev/Python/Sontex/raw-files/
** build files 2024-09-11
/home/buyn/Dev/Python/Sontex/raw-files/input.xlsx
/home/buyn/Dev/Python/Sontex/raw-files/output.xlsx
/home/buyn/Dev/Python/Sontex/raw-files/debag_2024.xlsx
** test run
/home/buyn/Dev/Python/Sontex/Src/Data_files/test.xlsx
/home/buyn/Dev/Python/Sontex/Src/Data_files/output.xlsx
* Орг лог
#+begin_src emacs-lisp :results output silent
(find-file-other-frame "~/Dropbox/Office/Progects/Zmei/Sontex/Org-Log/2024-09-06-Sontex-alfa-log.org")
#+end_src
* macroses 
** calc-all : 
#+begin_src emacs-lisp :results output silent
(load-file "~/keymac/calc-all.el")
#+end_src
#+begin_src emacs-lisp :results output silent
(fset 'calc-all
   (kmacro-lambda-form [?\C-u ?\C-c ?*] 0 "%d"))
#+end_src
#+begin_src emacs-lisp :results output silent
(global-set-key (kbd "<f5>") 'calc-all)
#+end_src
#+begin_src emacs-lisp :results output silent
(find-file-other-frame "~/keymac/calc-all.el")
#+end_src
** convert-ru-point : 
#+begin_src emacs-lisp :results output silent
(load-file "~/keymac/convert-ru-point.el")
#+end_src
#+begin_src emacs-lisp :results output silent
(fset 'convert-ru-point
   (kmacro-lambda-form [?ð ?ð ?J ?F ?, ?r ?.] 0 "%d"))
#+end_src
#+begin_src emacs-lisp :results output silent
(global-set-key (kbd "<f6><f6>") 'convert-ru-point)
#+end_src
#+begin_src emacs-lisp :results output silent
(find-file-other-frame "~/keymac/convert-ru-point.el")
#+end_src
** functions +-
*** new
#+begin_src emacs-lisp  :results output silent
(defun buyn-org-table-change ( value)
	(org-table-get-field nil (number-to-string (+ value (string-to-number (org-table-get-field))))))

(global-set-key (kbd "<f5>") '(lambda () (interactive)
																(buyn-org-table-change -1)
																(org-table-recalculate)))

(global-set-key (kbd "<f6>") '(lambda () (interactive)
																(buyn-org-table-change 1)
																(org-table-recalculate)))



#+end_src
*** orig
#+begin_src emacs-lisp  :results output silent
(defun my-org-table-change ( value)
	(org-table-get-field nil (number-to-string (+ value (string-to-number (org-table-get-field))))))

(defun my-org-table-decrement ()
  (interactive)
	(my-org-table-change -1))

(defun my-org-table-increment ()
  (interactive)
	(my-org-table-change 1))

(global-set-key (kbd "<f5>") 'my-org-table-decrement)
(global-set-key (kbd "<f6>") 'my-org-table-increment)
#+end_src
*** test 
|   |   |    |    |   |
| 6 | 5 |  0 |  1 |   |
|   |   | 10 |    |   |
|   |   |  3 | -5 | 0 |
|---+---+----+----+---|
|   |   |    |    |   |
|   |   |    |    |   |
|   |   |    |    |   |
|   |   |    |    |   |
|   |   |    |    |   |

* orgs
** orgs Sontex
#+begin_src emacs-lisp :results output silent
(find-file-other-frame "~/Dropbox/Office/Progects/Zmei/Sontex/Sontex.org")
#+end_src
* project comands
:PROPERTIES:
:header-args: :tangle no
:END:
** emacs src env actuv
*** eshell
#+begin_src elisp :dir /home/buyn/Dev/Python/Sontex/Src/ :results output silent
(evil-previous-line)
(org-cycle)
(delete-other-windows)
(pyvenv-activate "/home/buyn/Dev/Python/Sontex/Src/sontex-env")
(let (buffer-name-to-close (buffer-name))
				(evil-window-split)
				(eshell)
				(evil-quit)
				(switch-to-buffer-other-frame buffer-name-to-close))
#+end_src
*** comands
python -m unittest
python main.py
python -m main.py
** emacs build env actuv
*** eshell
#+begin_src elisp :dir /home/buyn/Dev/Python/Sontex/build/ :results output silent
(evil-previous-line)
(org-cycle)
(delete-other-windows)
(pyvenv-activate "/home/buyn/Dev/Python/Sontex/build/sontex-env")
(let (buffer-name-to-close (buffer-name))
				(evil-window-split)
				(eshell)
				(evil-quit)
				(switch-to-buffer-other-frame buffer-name-to-close))
#+end_src
*** comands
python -m unittest
python main.py
python -m main.py
** activate src
*** new sh
#+begin_src elisp  :dir /home/buyn/Dev/Python/Sontex/Src/
(buyn-shell-start "konsole -e /bin/bash --rcfile <(source sontex-env/bin/activate)")
(evil-previous-line)
(org-cycle)
(delete-other-windows)
#+end_src
*** source
source sontex-env/bin/activate
cd /home/buyn/Dev/Python/Sontex/Src/
*** buyn-shell-start
(buyn-shell-start "konsole -e /bin/bash --rcfile <(source sontex-env/bin/activate)")
*** run all tests
python -m unittest
** activate build
*** new sh
#+begin_src elisp  :dir /home/buyn/Dev/Python/Sontex/build/
(buyn-shell-start "konsole -e /bin/bash --rcfile <(source sontex-env/bin/activate)")
(evil-previous-line)
(org-cycle)
(delete-other-windows)
#+end_src
*** source
source sontex-env/bin/activate
cd /home/buyn/Dev/Python/Sontex/Src/
*** buyn-shell-start
(buyn-shell-start "konsole -e /bin/bash --rcfile <(source sontex-env/bin/activate)")
*** run all tests
python -m unittest
** run console in sontex activ
#+begin_src elisp :results output silent :dir /home/buyn/Dev/Python/Sontex/Src/
(buyn-shell-start "konsole -e /bin/bash --rcfile <(source sontex-env/bin/activate)")
(evil-previous-line)
(org-cycle)
(delete-other-windows)
#+end_src
source sontex-env/bin/activate
cd sontex-env
** run in eshell
*** run eshell
#+begin_src elisp :results output silent :dir /home/buyn/Dev/Python/Sontex/Src/
(evil-previous-line)
(org-cycle)
(delete-other-windows)
(let (buffer-name-to-close (buffer-name))
	(evil-window-split)
				(eshell)
				(evil-quit)
				(switch-to-buffer-other-frame buffer-name-to-close))
#+end_src
*** comannds
python main.py
python -m unittest

source sontex-env/bin/activate
cd sontex-env

** save буфер фреймы проекта
#+begin_src emacs-lisp  :results output silent
(use-package burly
 :ensure t
 ;; :config
	)
;; (burly-bookmark-frames "sontex buffers")
(burly-bookmark-frames "buffers LAST SAVE")
(bookmark-save)
#+end_src
** run eshell in org root
clj -M:dev
clojure -m cljs.main --compile my-cljs-project.core --repl
#+begin_src elisp :results output silent
(evil-previous-line)
(org-cycle)
(delete-other-windows)
(let (buffer-name-to-close (buffer-name))
				(evil-window-split)
				(eshell)
				(evil-quit)
				(switch-to-buffer-other-frame buffer-name-to-close))
#+end_src

			;; (execute-kbd-macro "A \C-m")
** run console in sontex
#+begin_src elisp :results output silent :dir /home/buyn/Dev/Python/Sontex/Src/
(buyn-shell-start "konsole")
(evil-previous-line)
(org-cycle)
(delete-other-windows)
#+end_src
source sontex-env/bin/activate
cd sontex-env
** run console in org root
#+begin_src elisp :results output silent
(buyn-shell-start "konsole")
(evil-previous-line)
(org-cycle)
(delete-other-windows)
#+end_src

** run console with command
#+begin_src elisp :results output silent
(buyn-shell-start "konsole -e /bin/bash --rcfile <(clj -M:dev)")
(evil-previous-line)
(org-cycle)
(delete-other-windows)
#+end_src

* 2024-09-06
** Necroteuch.org : 
		#+begin_src emacs-lisp :tangle yes
(find-file-other-frame "~/../Dropbox/orgs/capture/Necroteuch.org")
		#+end_src

		#+RESULTS:
		: #<buffer Necroteuch.org>

